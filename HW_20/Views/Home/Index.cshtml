@model IEnumerable<PhoneBook>
@{
	ViewBag.Title = "Телефонная книга";
	Layout = "_Layout";
}

<div class="m-1 p-1">
	<table class="table table-bordered table-striped">
		<thead>
			<tr><th>Номер</th><th>Фамилия</th><th>Имя</th><th>Отчество</th></tr>
		</thead>
		<tbody>
			@if(Model == null || Model.Count() == 0)
			{
				<tr><td colspan="4" class="text-center">Нет данных</td></tr>
			}
			else
			{
				@foreach(var p in Model)
				{
					<tr>
						<td><a asp-action="Edit" asp-route-id="@p.Id">@p.Id</a></td>
						<td>@p.Surname</td>
						<td>@p.Name</td>
						<td>@p.Patronymic</td>
						<td>
							<form asp-action="Delete" method="post">
								<input type="hidden" name="id" value="@p.Id" />
								<button type="submit" class="btn btn-danger">Удалить</button>
							</form>
						</td>
					</tr>
				}
			}
		</tbody>
	</table>

	<div class="mb-1 fixed-bottom">
		<div class="shadow-lg rounded">
			<a asp-action="Create" class="btn align-self-center btn-primary ms-2 mb-1">Добавить</a>
			<a asp-action="Index" asp-controller="Account" asp-route-userRole="@Context.Request.Cookies["UserRole"]" 
			class="btn align-self-center btn-primary ms-2 mb-1">Администратор</a>
		</div>
			
	</div>
</div>